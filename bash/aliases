# Utility
alias reload='source ~/.dotfiles/bash/aliases'
alias redot='cd ~/.dotfiles && rake install; cd -'
alias ea='vim ~/.dotfiles/bash/aliases && reload' # Edit aliases
alias ee='vim ~/.dotfiles/bash/env'
alias e='vim'
alias h='history'
alias v='vagrant'

# Processes
alias tu='top -o cpu'   # cpu
alias tm='top -o vsize' # memory

# cd
alias ..='cd ..'
alias cdd='cd -'

# Create a dir and cd it
function take() {
  mkdir -p "$1"
  cd "$1"
}

# Send a Growl notification
function growl() {
  growlnotify -m "$1" -t "Shell notify"
}

# ls
alias ls='ls -F'
alias l='ls -lAh'
alias ll='ls -l'
alias la='ls -A'

# Git
alias g="git"
alias gs="git st"
alias gr="git r"
alias ga="git aa"
alias gc="git ci -m"

# Ruby
alias r="rake"

# PHP
# alias tail-php-error="tail -f `brew --prefix php`/var/log/php_errors.log"
alias tail-php-error="tail -f /Applications/MAMP/logs/php_error.log"

# commands starting with % for pasting from web
alias %=' '

# network
alias ips="ifconfig -a | perl -nle'/(\d+\.\d+\.\d+\.\d+)/ && print $1'"
alias myip="dig +short myip.opendns.com @resolver1.opendns.com"
alias flush="dscacheutil -flushcache" # Flush DNS cache
alias ping="ping -c 5" # ping 5 times ‘by default’

# some utils
alias ql="qlmanage -p 2>/dev/null" # preview a file using QuickLook
alias fixow='/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -kill -r -domain local -domain user;killall Finder;echo "Open With has been rebuilt, Finder will relaunch"'

# some quick service start/stop alias

# nginx
alias nginx-reload="sudo /usr/local/sbin/nginx -s reload"
alias nginx-stop="sudo /usr/local/sbin/nginx -s stop"
alias nginx-start="sudo /usr/local/sbin/nginx -g deamon=off;"
alias nginx-restart="nginx-stop; nginx-start"

# mysql
alias mysql-start="mysql.server start"
alias mysql-stop="mysql.server stop"
alias mysql-restart="mysql-stop; mysql-start"

# postgresql
alias psql-start="pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start"
alias psql-stop="pg_ctl -D /usr/local/var/postgres stop -s -m fast"
alias psql-restart="psql-stop; psql-start"

# mongo
alias mongo-start="mongod run --config /usr/local/Cellar/mongodb/2.0.4-x86_64/mongod.conf --rest"

